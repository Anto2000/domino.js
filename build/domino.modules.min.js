/* domino.js - a JS fast dashboard prototyping framework - Version: 1.0 - Author:  Alexis Jacomy - License: MIT */
(function(j,i){if(!j)throw Error("The namespace is not valid.");if(!i)throw Error("domino.js is required to initialize the modules.");j.Text=function(h,f){function e(c){d.html('<span class="property">'+b+'</span>: <span class="value">'+c.data.get(a.property)+"</span>")}i.module.call(this);var g=this,a=h||{};if(!a.property)throw Error("[Text] Property missing");var b=a.label||f.getLabel(a.property),d=a.element||$("<fieldset></fieldset>");a.cssClass&&d.addClass(a.cssClass);a.cssId&&d.attr("id",a.cssId);
a.triggers?i.utils.array(a.triggers).forEach(function(a){g.triggers.events[a]=e}):g.triggers.properties[a.property]=e;this.html=d};j.Button=function(h){i.module.call(this);var f=this,e=h||{},h=e.element||$("<"+(e.htmlTag||"button")+">"+(e.htmlContent||"")+"</"+(e.htmlTag||"button")+">");e.cssClass&&h.addClass(e.cssClass);e.cssId&&h.attr("id",e.cssId);h.click(function(){e.dispatch&&f.dispatchEvent(i.utils.array(e.dispatch))});this.html=h};j.Checkbox=function(h,f){function e(c){d.find("input").attr("checked",
c.data.get(a.property)?"checked":null)}i.module.call(this);var g=this,a=h||{};if(!a.property)throw Error("[Checkbox] Property missing");var b=a.dispatch||(1===f.getEvents(a.property).length?f.getEvents(a.property)[0]:null),d=a.element||$('<fieldset><input type="checkbox" id="'+(a.cssId||a.property)+'" /><label for="'+(a.cssId||a.property)+'">'+(a.label||f.getLabel(a.property))+"</label></fieldset>");a.cssId&&d.attr("id",a.cssId);d.find("input").change(function(){var c={};c[a.property]=$(this).is(":checked");
b&&g.dispatchEvent(b,c)});a.triggers?i.utils.array(a.triggers).forEach(function(a){g.triggers.events[a]=e}):g.triggers.properties[a.property]=e;this.html=d};j.SwitchButton=function(h,f){function e(b){(d=!!b.data.get(a.property))?(a.cssClassOn&&c.attr("class",a.cssClassOn),a.htmlOn&&c.html(a.htmlOn)):(a.cssClassOff&&c.attr("class",a.cssClassOff),a.htmlOff&&c.html(a.htmlOff))}i.module.call(this);var g=this,a=h||{};if(!a.property)throw Error("[SwitchButton] Property missing");var b=a.dispatch||(1===
f.getEvents(a.property).length?f.getEvents(a.property)[0]:null),d,c=a.element||$("<"+(a.htmlTag||"button")+"></"+(a.htmlTag||"button")+">");a.cssId&&c.attr("id",a.cssId);c.click(function(){if(a.property){var c={};c[a.property]=!d;b&&g.dispatchEvent(b,c)}});a.events?i.utils.array(a.events).forEach(function(a){g.triggers.events[a]=e}):g.triggers.properties[a.property]=e;this.html=c};j.TextInput=function(h,f){function e(c){d.find("input").val(c.data.get(a.property))}i.module.call(this);var g=this,a=
h||{};if(!a.property)throw Error("[TextInput] Property missing");var b=a.dispatch||(1===f.getEvents(a.property).length?f.getEvents(a.property)[0]:null),d=a.element||$('<fieldset><label for="'+(a.cssId||a.property)+'">'+(a.label||f.getLabel(a.property))+'</label><input type="text" id="'+(a.cssId||a.property)+'" /><button>'+(a.buttonLabel||"Validate")+"</button></fieldset>");a.cssId&&d.attr("id",a.cssId);d.find("button").click(function(){var c={};c[a.property]=d.find("input").val();b&&g.dispatchEvent(b,
c)});a.triggers?i.utils.array(a.triggers).forEach(function(a){g.triggers.events[a]=e}):g.triggers.properties[a.property]=e;this.html=d};j.ArrayInput=function(h,f){function e(b){d.find("input").val(b.data.get(a.property).join(", "))}i.module.call(this);var g=this,a=h||{};if(!a.property)throw Error("[ArrayInput] Property missing");var b=a.dispatch||(1===f.getEvents(a.property).length?f.getEvents(a.property)[0]:null),d=a.element||$('<fieldset><label for="'+(a.cssId||a.property)+'">'+(a.label||f.getLabel(a.property))+
'</label><input type="text" id="'+(a.cssId||a.property)+'" /><button>'+(a.buttonLabel||"Validate")+"</button></fieldset>");a.cssId&&d.attr("id",a.cssId);d.find("button").click(function(){var c={};c[a.property]=d.find("input").val().split(",").map(function(a){return a.replace(/^ */g,"").replace(/ *$/g,"")}).filter(function(a){return!!a});b&&g.dispatchEvent(b,c)});a.triggers?i.utils.array(a.triggers).forEach(function(a){g.triggers.events[a]=e}):g.triggers.properties[a.property]=e;this.html=d};j.NumberInput=
function(h,f){function e(b){d.find("input").val(+b.data.get(a.property))}i.module.call(this);var g=this,a=h||{};if(!a.property)throw Error("[NumberInput] Property missing");var b=a.dispatch||(1===f.getEvents(a.property).length?f.getEvents(a.property)[0]:null),d=a.element||$('<fieldset><label for="'+(a.cssId||a.property)+'">'+(a.label||f.getLabel(a.property))+'</label><input type="number" id="'+(a.cssId||a.property)+'" /><button>'+(a.buttonLabel||"Validate")+"</button></fieldset>");a.cssId&&d.attr("id",
a.cssId);d.find("button").click(function(){var c={};c[a.property]=+d.find("input").val();b&&g.dispatchEvent(b,c)});a.triggers?i.utils.array(a.triggers).forEach(function(a){g.triggers.events[a]=e}):g.triggers.properties[a.property]=e;this.html=d};j.Select=function(h,f){function e(a){c=a.data.get(b.property);k.val(c)}function g(a){"string"===typeof b.values&&(j=a.data.get(b.values),k.empty().append(j.map(function(a){return"string"===typeof a?'<option value="'+a+'">'+a+"</option>":'<option value="'+
a.id+'">'+(a.label||a.id)+"</option>"})).val(c))}i.module.call(this);var a=this,b=h||{};if(!b.property)throw Error("[Select] Property missing");var d=b.dispatch||(1===f.getEvents(b.property).length?f.getEvents(b.property)[0]:null),c,j,k=b.element||$("<select></select>");b.cssClass&&k.addClass(b.cssClass);b.cssId&&k.attr("id",b.cssId);b.values&&"array"===i.utils.type.get(b.values)&&(j=b.values,k.append(j.map(function(a){return"string"===typeof a?'<option value="'+a+'">'+a+"</option>":'<option value="'+
a.id+'">'+(a.label||a.id)+"</option>"})));k.change(function(){var c={};c[b.property]=$(this).val();d&&a.dispatchEvent(d,c)});b.triggers?i.utils.array(b.triggers).forEach(function(b){a.triggers.events[b]=update}):a.triggers.properties[b.property]=e;"string"===typeof b.values&&(a.triggers.properties[b.values]=g);this.html=k}})(domino.modules=domino.modules||{},domino);
